{% extends "layout.html" %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='quiz.css') }}">
<script src="{{ url_for('static', filename='quiz.js')}}" defer></script>


{% endblock %}

{% block javascript %}
<script>
    const QUIZ_URL = {{ url_for('quiz', pl_id = pl_id) | tojson | safe}};
</script>
{% endblock %}

{% block title %}
Game
{% endblock %}

{% block main %}

<div id="quiz-card" class="d-none col col-lg-7 col-xl-6 mx-auto">
    <div class="card h-100">
            
            <div class="card-body">
                <!-- GAME STATUS -->
                <div class="col-12 fw-bold d-flex mb-1 justify-content-around">
                    <div> song: <span id="quest_num"></span>/5</div>
                    <div>
                        points: <span id="points"></span>
                    </div>
                    <div id="lvl-badge">
                        
                    </div>
                </div>
                <div id="prog_bar" class="progress mb-4">
                </div>

                <!-- PLAYLIST INFO -->
                <div class="row mb-0">
                    <div class="col-12 col-sm-5">
                        <div class="row mb-2">
                            <div class="col-6 col-sm-12">
                                <img id="pl_img" src="" class="img-fluid rounded-start" style="width: 170px;" alt="playlist image">
                            </div>
                            <div class="col-6 col-sm-12">
                                <h5 class="card-title">
                                    <a id="pl_name" href="" class="link-dark" data-bs-toggle="tooltip" data-bs-title="Open in Spotify" target="_blank" noopener noreferer></a>
                                </h5>
                                <p class="card-text">
                                    <small class="text-muted">
                                        by <a id="pl_owner" href="" class="link-secondary" data-bs-toggle="tooltip" data-bs-title="Open in Spotify" target="_blank" noopener noreferer></a>
                                    </small>
                                </p>
                                <p id="pl_desc" class="card-text"></p>
                            </div>
                        </div>
                    </div>

                    <!-- PLAYER -->
                    <div class="col-12 col-sm-7">
                        <div class="container d-flex flex-column flex-wrap py-0 mb-2 h-100">
                            <audio id="player" preload>
                                <source id="audioSource" src="" type="audio/mpeg">
                            </audio>

                            <!-- play button -->
                            <div class="container flex-fill col col-12">
                                <a id= "results">
                                    <button id="playpause" class="controls w-100 h-100 btn btn-light" data-state="loading"><div class="spinner-border" role="status"></div></button>
                                </a>
                            </div>

                            <div class="row col col-12">
                                <!-- mute -->
                                <div class="container col col-1">
                                    <button id="mute" class="btn btn-light" data-state="not-muted"></button>
                                </div>
                                <!-- volume control -->
                                <div class="container col col-10">
                                    <input id="volume" min="0" max="100"  type="range" class="volume-slider form-range">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                    
                <div class="row">
                    <!-- QUESTION -->
                    <div class="col-12">
                        <span id="question" class="fw-bold">Guess the title:</span>
                    </div>
                    <div class="col-12">
                        <div class="d-grid gap-2">
                            
                            <button id="" class="ans-btn btn btn-lg shadow btn-light position-relative disabled" name="track_id" value="" >
                                <span class="d-none position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                                </span>    
                            </button>
                            <button id="" class="ans-btn btn btn-lg shadow btn-light position-relative disabled" name="track_id" value="" >
                                <span class="d-none position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                                </span>
                            </button>
                            <button id="" class="ans-btn btn btn-lg shadow btn-light position-relative disabled" name="track_id" value="" >
                                <span class="d-none position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                                </span>
                            </button>
                            <button id="" class="ans-btn btn btn-lg shadow btn-light position-relative disabled" name="track_id" value="" >
                                <span class="d-none position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                                </span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div  class="d-none card-footer text-center">
                
            </div>
    </div>
</div>
<!-- placeholder -->
<div class="load-card col-lg-7 col-xl-6 mx-auto col">
    <div class="card h-100 px-0">

        <div class="card-body">
            <div class="col-12 fw-bold d-flex mb-1 justify-content-around placeholder-glow">
                <span class="placeholder col-2"></span>
                <span class="placeholder col-2"></span>
                <span class="placeholder col-2"></span>
            </div>
            <div class="card-title placeholder-glow">
                <span class="placeholder col-12"></span>
            </div>
            <div class="row mb-0 placeholder-glow">
                <div class="col-12 col-sm-5">
                    <div class="row mb-2">
                        <div class="col-6 col-sm-12">
                            <svg class="bd-placeholder-img card-img-top" width="100%" height="120" xmlns="http://www.w3.org/2000/svg" role="img"
                                aria-label="Placeholder" preserveAspectRatio="xMidYMid slice" focusable="false">
                                <title>Placeholder</title>
                                <rect width="100%" height="100%" fill="#868e96"></rect>
                            </svg>
                        </div>
                        <div class="col-6 col-sm-12">
                            <h5 class="card-title">
                                <span class="placeholder col-7"></span>
                            </h5>
                            <p class="card-text">
                                <span class="placeholder col-2"></span>
                                <span class="placeholder col-5"></span>
                            </p>
                            <span class="placeholder col-7"></span>
                            <span class="placeholder col-5"></span>
                            <span class="placeholder col-3"></span>
                            <span class="placeholder col-8"></span>
                            <span class="placeholder col-10"></span>
                        </div>
                    </div>
                </div>

                <div class="col-12 col-sm-7">
                    <div class="container py-0 mb-2">
                        <svg class="bd-placeholder-img card-img-top" width="100%" height="200" xmlns="http://www.w3.org/2000/svg" role="img"
                            aria-label="Placeholder" preserveAspectRatio="xMidYMid slice" focusable="false">
                            <title>Placeholder</title>
                            <rect width="100%" height="100%" fill="#868e96"></rect>
                        </svg>
                    </div>
                    <div class="d-flex">
                        <span class="placeholder col-10"></span>
                    </div>
                </div>
            </div>
            <div class="row">
                <!-- QUESTION -->
                <div class="col-12">
                    <span class="placeholder col-5"></span>
                </div>
                <div class="col-12">
                    <div class="d-grid gap-2">

                        <button class="btn btn-lg shadow btn-light position-relative" disabled>
                            <span class="placeholder col-3"></span>
                        </button>

                        <button class="btn btn-lg shadow btn-light position-relative" disabled>
                            <span class="placeholder col-6"></span>
                        </button>
                        <button class="btn btn-lg shadow btn-light position-relative" disabled>
                            <span class="placeholder col-4"></span>
                        </button>
                        <button class="btn btn-lg shadow btn-light position-relative" disabled>
                            <span class="placeholder col-8"></span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}